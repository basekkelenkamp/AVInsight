{% extends "layout.html" %}
{% block content %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/config.css') }}">
<div class="wraper">
  <div class="config-form">
    <form id="config-form">
      {% for section, configs in config.items() %}
      <fieldset>
        <legend>{{ section }}</legend>
        {% for config_item in configs %}
          {% for key, value in config_item.items() %}
          <div class="form-group">
            <label for="{{ section }}-{{ key }}" class="label-text">{{ key }}</label>
            {% if value is number %}
              <input type="number" name="{{ section }}-{{ key }}" id="{{ section }}-{{ key }}" value="{{ value }}">
            {% elif value == "true" or value == "false" %}
              <div class="switch" for="checkbox">
                <input type="hidden" name="{{ section }}-{{ key }}" value="false">
                <input type="checkbox" id="{{ section }}-{{ key }}" name="{{ section }}-{{ key }}" {% if value == "true" %}checked{% endif %}>
                <label for="{{ section }}-{{ key }}" class="slider round"></label>
              </div>
            {% elif key == "disk" %}
              <select id="{{ section }}-{{ key }}" name="{{ section }}-{{ key }}">
                {% for disk in disks %}
                  {% if disk == value %}
                    <option value="{{ disk }}" selected="selected">{{ disk }}</option>
                  {% else %}
                    <option value="{{ disk }}">{{ disk }}</option>
                  {% endif %}
                {% endfor %}
              </select>
            {% endif %}
          </div>
          {% endfor %}
        {% endfor %}
      </fieldset>
      {% endfor %}
      <button type="button" id="save-config" class="save-config-button">Save</button>
    </form>
  </div>
</div>
<script src="{{ url_for('static', filename='js/config.js') }}"></script>
{% endblock %}
